<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Replace</title>
   <!--Vue development version, includes helpful console warnings -->
   <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
   <link rel="stylesheet" href="style.css">
  <script>
    function copyText(text){
      navigator.clipboard.writeText(text);
      alert("Copiado:\n\n" + text);
      return text;
    }
  </script>
</head>
<body>
<span class="app-title">alimentacion-app</span>
    <div class="app" id="alimentacion-app">
      <textarea
        class="w100 p b0"
        v-model="rawText"
        rows="12"
        cols="40"
      ></textarea>
      <button class="w100">
        üóê
        <pre
          @click="copyModText"
          v-html="modText"
          id="modTextContainer"
          class="w100"
        ></pre>
      </button>
    </div>
<script>
    var app = new Vue({
      el: "#alimentacion-app",
      data: {
        rawText: `Lunes, 29/11/2021
   Desayuno
Refresco de mermelada de mango (232 ml )$ 0
Mayonesa elaborada (20 g )$ 0
Pan 50 g (50 g )$ 0
   Almuerzo
Dulce de frutabomba (80 g )$ 0
Arroz blanco (180 g )$ 0
Huevo hervido. (1 u )$ 0
Potaje de ch√≠charo (200 g )$ 0
Boniato hervido (90 g )$ 0
   Comida
Pan 50 g (50 g )$ 0
Mermelada de pulpa de mango (80 g )$ 0
Arroz blanco (180 g )$ 0
Potaje de ch√≠charo (200 g )$ 0
Picadillo (80 g )$ 0`,
      },
        rules:[
          {string:'/Desayuno/g',rstring:'\nDESAYUNO'},
          {string:'/Almuerzo/g',rstring:'\nALMUERZO'},
          {string:'/Comida/g',rstring:'\nCENA'},
          {string:'/Vianda/g',rstring:'ü•î   Vianda'},
          {string:'/Arroz blanco/g',rstring:'üçö   Arroz blanco'},
          {string:'',rstring:''},
          {string:'',rstring:''},
          {string:'',rstring:''},
          {string:'',rstring:''},
          {string:'',rstring:''},
          {string:'',rstring:''},
      ],
      methods: {
        copyModText: function () {
          navigator.clipboard.writeText(this.modText);
          alert("Copiado:\n\n" + this.modText);
          return true;
        },
        pasteText: function () {
          this.rawText = navigator.clipboard.readText();
          alert("Copiado:\n\n" + this.modText);
          return true;
        },
      },
      computed: {
        modText: function () {
          let modText = this.rawText;

          modText = "**" + modText;
          modText = modText.replace(new Date().getFullYear, new Date().getFullYear+"**");
rules.forEach(rule => {
  modText = modText.replace(rule.string, rule.rstring);
});
          // modText = modText.replace(/Desayuno/g, "\nDESAYUNO");
          // modText = modText.replace(/Almuerzo/g, "\nALMUERZO");
          // modText = modText.replace(/Comida/g, "\nCOMIDA");
          // modText = modText.replace(/\$ 0/g, "");
          // modText = modText.replace(/Vianda/g, "ü•î   Vianda");
          // modText = modText.replace(/Arroz blanco/g, "üçö   Arroz blanco");
          // modText = modText.replace(/Pan/g, "üçî   Pan");
          // modText = modText.replace(/Palitroque/g, "ü•ñ   Palitroque");
          // modText = modText.replace(
          //   /Refresco/g,
          //   "ü•É   Refresco"
          // );
          // modText = modText.replace(/Huevo hervido/g, "ü•ö   Huevo hervido");
          // modText = modText.replace(/Sopa o potaje/g, "ü•£   Sopa o potaje");
          // modText = modText.replace(/Salchicha/g, "üå≠   Salchicha");
          // modText = modText.replace(/\./g, "");
          // modText = modText.replace(/'/g, "");
          // modText = modText.replace(
          //   /Potaje de ch√≠charo/g,
          //   "ü•ò   Potaje de ch√≠charo"
          // );
          // modText = modText.replace(/Boniato hervido/g, "ü•î   Boniato hervido");
          // modText = modText.replace(
          //   /Dulce de frutabomba/g,
          //   "üçà   Dulce de frutabomba"
          // );
          // modText = modText.replace(/Pan 50 g/g, "Pan");
          // modText = modText.replace(/\)/g, "");
          // modText = modText.replace(/\(/g, "  ");
          // modText = modText.replace(/ g/g, "g");
          // modText = modText.replace(/Mayonesa/g, "üßà   Mayonesa");
          // modText = modText.replace(
          //   /Mermelada de pulpa de mango/g,
          //   "ü•≠   Mermelada de pulpa de mango"
          // );
          // modText = modText.replace(/Picadillo/g, "üßÜ   Picadillo");
          // modText = modText.replace(/Pollo/g, "üçó   Pollo");
          return modText;
        },
      },
    });

</body>
</html>